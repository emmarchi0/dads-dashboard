<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a0e17">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Dad's Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ===== BASE ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e17;
            color: #e2e8f0;
            min-height: 100vh;
            line-height: 1.6;
        }

        a { color: inherit; text-decoration: none; }

        /* ===== TICKER TAPE ===== */
        .ticker-wrapper {
            border-bottom: 1px solid #1e293b;
            position: sticky;
            top: 0;
            z-index: 100;
            background: #0a0e17;
        }

        /* ===== HEADER ===== */
        .header {
            text-align: center;
            padding: 28px 20px 20px;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            color: #64748b;
            font-size: 0.9rem;
            margin-top: 4px;
        }

        .header .last-updated {
            color: #475569;
            font-size: 0.8rem;
            margin-top: 8px;
        }

        .refresh-btn {
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            padding: 6px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 10px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .refresh-btn:hover { background: rgba(96, 165, 250, 0.2); }

        /* ===== DASHBOARD GRID ===== */
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        /* ===== CARDS ===== */
        .card {
            background: #141b2d;
            border-radius: 12px;
            border: 1px solid #1e293b;
            overflow: hidden;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 20px;
            border-bottom: 1px solid #1e293b;
        }

        .card-header h2 { font-size: 1rem; font-weight: 600; }

        .accent {
            width: 4px;
            height: 20px;
            border-radius: 2px;
        }

        .card-body { padding: 16px 20px; }

        .full-width { grid-column: span 2; }

        /* ===== SECTION COLORS ===== */
        .pentair .accent { background: #0069AA; }
        .pentair .card-header { border-bottom-color: rgba(0, 105, 170, 0.3); }

        .economy .accent { background: #10b981; }
        .economy .card-header { border-bottom-color: rgba(16, 185, 129, 0.3); }

        .politics .accent { background: #8b5cf6; }
        .politics .card-header { border-bottom-color: rgba(139, 92, 246, 0.3); }

        .economy-news .accent { background: #f59e0b; }
        .economy-news .card-header { border-bottom-color: rgba(245, 158, 11, 0.3); }

        .warriors .accent { background: #ffc72c; }
        .warriors .card-header { border-bottom-color: rgba(255, 199, 44, 0.3); }

        .niners .accent { background: #aa0000; }
        .niners .card-header { border-bottom-color: rgba(170, 0, 0, 0.3); }

        /* ===== WIDGET CONTAINERS ===== */
        .widget-container {
            height: 450px;
            position: relative;
        }

        .tradingview-widget-container { height: 100%; }

        /* ===== NEWS ===== */
        .news-grid {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 460px;
            overflow-y: auto;
            padding-right: 4px;
        }

        .news-card {
            display: block;
            padding: 12px 14px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s;
            cursor: pointer;
        }

        .news-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateX(4px);
        }

        .news-title {
            font-size: 0.88rem;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: #64748b;
        }

        /* ===== SPORTS ===== */
        .team-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .team-logo {
            width: 64px;
            height: 64px;
            object-fit: contain;
        }

        .team-record {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .team-standing {
            font-size: 0.85rem;
            color: #94a3b8;
        }

        .section-label {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #64748b;
            margin: 16px 0 8px;
        }

        .game-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.02);
            margin-bottom: 6px;
            font-size: 0.85rem;
        }

        .game-item.win { border-left: 3px solid #10b981; }
        .game-item.loss { border-left: 3px solid #ef4444; }

        .game-item .result { font-weight: 600; }
        .game-item .result.win-text { color: #10b981; }
        .game-item .result.loss-text { color: #ef4444; }

        .game-date-label {
            font-size: 0.75rem;
            color: #64748b;
        }

        .next-game-card {
            background: rgba(96, 165, 250, 0.08);
            border: 1px solid rgba(96, 165, 250, 0.15);
            border-radius: 8px;
            padding: 14px 16px;
            margin-top: 8px;
        }

        .next-game-card .label {
            font-size: 0.75rem;
            color: #60a5fa;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .next-game-card .matchup { font-size: 1rem; font-weight: 600; }

        .next-game-card .datetime {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 4px;
        }

        /* ===== STATES ===== */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            color: #64748b;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #64748b;
            margin: 0 4px;
            animation: loadingDot 1.4s infinite ease-in-out both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingDot {
            0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
            40% { transform: scale(1); opacity: 1; }
        }

        .error-state {
            text-align: center;
            padding: 30px;
            color: #64748b;
        }

        .error-state a {
            color: #60a5fa;
            display: inline-block;
            margin-top: 8px;
        }

        .error-state button {
            margin-top: 10px;
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            padding: 8px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.85rem;
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== SCROLLBAR ===== */
        .news-grid::-webkit-scrollbar { width: 5px; }
        .news-grid::-webkit-scrollbar-track { background: transparent; }
        .news-grid::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }

        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            padding: 20px;
            color: #334155;
            font-size: 0.75rem;
        }

        .footer a { color: #475569; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 900px) {
            .dashboard { grid-template-columns: 1fr; }
            .full-width { grid-column: span 1; }
            .header h1 { font-size: 1.5rem; }
            .widget-container { height: 380px; }
            .team-record { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

    <!-- ===== TICKER TAPE ===== -->
    <div class="ticker-wrapper">
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
            {
                "symbols": [
                    {"proName": "NYSE:PNR", "title": "Pentair"},
                    {"proName": "FOREXCOM:SPXUSD", "title": "S&P 500"},
                    {"proName": "FOREXCOM:NSXUSD", "title": "Nasdaq 100"},
                    {"proName": "FOREXCOM:DJI", "title": "Dow 30"},
                    {"proName": "TVC:US10Y", "title": "US 10Y Yield"},
                    {"proName": "COMEX:GC1!", "title": "Gold"},
                    {"proName": "NYMEX:CL1!", "title": "Crude Oil"},
                    {"proName": "BITSTAMP:BTCUSD", "title": "Bitcoin"}
                ],
                "showSymbolLogo": true,
                "isTransparent": true,
                "displayMode": "adaptive",
                "colorTheme": "dark",
                "locale": "en"
            }
            </script>
        </div>
    </div>

    <!-- ===== HEADER ===== -->
    <header class="header">
        <h1>Dad's Dashboard</h1>
        <p class="subtitle">Live updates &mdash; Economy &bull; Politics &bull; Pentair &bull; Warriors &bull; 49ers</p>
        <p class="last-updated">Last refreshed: <span id="lastUpdated">Loading...</span> &bull; Auto-refreshes every 5 min</p>
        <button class="refresh-btn" onclick="refreshAll()">Refresh Now</button>
    </header>

    <!-- ===== DASHBOARD ===== -->
    <main class="dashboard">

        <!-- Pentair Stock Chart -->
        <section class="card pentair">
            <div class="card-header">
                <div class="accent"></div>
                <h2>Pentair Stock (PNR)</h2>
            </div>
            <div class="widget-container">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
                    {
                        "autosize": true,
                        "symbol": "NYSE:PNR",
                        "interval": "D",
                        "timezone": "America/New_York",
                        "theme": "dark",
                        "style": "1",
                        "locale": "en",
                        "backgroundColor": "rgba(20, 27, 45, 1)",
                        "gridColor": "rgba(30, 41, 59, 0.5)",
                        "hide_top_toolbar": false,
                        "hide_legend": false,
                        "allow_symbol_change": false,
                        "save_image": false,
                        "calendar": false,
                        "support_host": "https://www.tradingview.com"
                    }
                    </script>
                </div>
            </div>
        </section>

        <!-- Economy & Markets -->
        <section class="card economy">
            <div class="card-header">
                <div class="accent"></div>
                <h2>Economy &amp; Markets</h2>
            </div>
            <div class="widget-container">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
                    {
                        "colorTheme": "dark",
                        "dateRange": "12M",
                        "showChart": true,
                        "locale": "en",
                        "isTransparent": true,
                        "showSymbolLogo": true,
                        "showFloatingTooltip": true,
                        "width": "100%",
                        "height": "100%",
                        "tabs": [
                            {
                                "title": "Indices",
                                "symbols": [
                                    {"s": "FOREXCOM:SPXUSD", "d": "S&P 500"},
                                    {"s": "FOREXCOM:NSXUSD", "d": "Nasdaq 100"},
                                    {"s": "FOREXCOM:DJI", "d": "Dow 30"},
                                    {"s": "INDEX:RUT", "d": "Russell 2000"},
                                    {"s": "INDEX:VIX", "d": "VIX"}
                                ]
                            },
                            {
                                "title": "Bonds",
                                "symbols": [
                                    {"s": "TVC:US02Y", "d": "US 2Y Yield"},
                                    {"s": "TVC:US10Y", "d": "US 10Y Yield"},
                                    {"s": "TVC:US30Y", "d": "US 30Y Yield"}
                                ]
                            },
                            {
                                "title": "Commodities",
                                "symbols": [
                                    {"s": "COMEX:GC1!", "d": "Gold"},
                                    {"s": "COMEX:SI1!", "d": "Silver"},
                                    {"s": "NYMEX:CL1!", "d": "Crude Oil"},
                                    {"s": "NYMEX:NG1!", "d": "Natural Gas"}
                                ]
                            }
                        ]
                    }
                    </script>
                </div>
            </div>
        </section>

        <!-- Political News -->
        <section class="card politics">
            <div class="card-header">
                <div class="accent"></div>
                <h2>Political News</h2>
            </div>
            <div class="card-body">
                <div id="politics-feed" class="news-grid">
                    <div class="loading">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Economy News -->
        <section class="card economy-news">
            <div class="card-header">
                <div class="accent"></div>
                <h2>Economy News</h2>
            </div>
            <div class="card-body">
                <div id="economy-feed" class="news-grid">
                    <div class="loading">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Golden State Warriors -->
        <section class="card warriors">
            <div class="card-header">
                <div class="accent"></div>
                <h2>Golden State Warriors</h2>
            </div>
            <div class="card-body">
                <div id="warriors-data">
                    <div class="loading">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- San Francisco 49ers -->
        <section class="card niners">
            <div class="card-header">
                <div class="accent"></div>
                <h2>San Francisco 49ers</h2>
            </div>
            <div class="card-body">
                <div id="niners-data">
                    <div class="loading">
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                        <div class="loading-dot"></div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
        Market data by <a href="https://www.tradingview.com" target="_blank" rel="noopener">TradingView</a>
        &bull; Sports data by ESPN
        &bull; News via Google News
    </footer>

    <!-- ===== JAVASCRIPT ===== -->
    <script>
        // ===== CONFIG =====
        const CONFIG = {
            REFRESH_INTERVAL: 5 * 60 * 1000,
            NEWS_COUNT: 8,
            ESPN_BASE: 'https://site.api.espn.com/apis/site/v2/sports',
            RSS2JSON: 'https://api.rss2json.com/v1/api.json',
            ALLORIGINS: 'https://api.allorigins.win/get'
        };

        // ===== HELPERS =====
        function sanitize(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        function timeAgo(dateStr) {
            const now = new Date();
            const date = new Date(dateStr);
            const diff = Math.floor((now - date) / 1000);
            if (isNaN(diff) || diff < 0) return '';
            if (diff < 60) return 'just now';
            if (diff < 3600) return Math.floor(diff / 60) + 'm ago';
            if (diff < 86400) return Math.floor(diff / 3600) + 'h ago';
            if (diff < 604800) return Math.floor(diff / 86400) + 'd ago';
            return date.toLocaleDateString();
        }

        function formatGameDate(dateStr) {
            return new Date(dateStr).toLocaleDateString('en-US', {
                weekday: 'short', month: 'short', day: 'numeric'
            });
        }

        function formatGameTime(dateStr) {
            return new Date(dateStr).toLocaleTimeString('en-US', {
                hour: 'numeric', minute: '2-digit'
            });
        }

        function loadingHTML() {
            return '<div class="loading"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div>';
        }

        function updateTimestamp() {
            document.getElementById('lastUpdated').textContent =
                new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', second: '2-digit' });
        }

        // ===== NEWS =====
        async function fetchNews(query, containerId, retryFnName, fallbackUrl) {
            const container = document.getElementById(containerId);

            try {
                // Attempt 1: rss2json
                const rssUrl = 'https://news.google.com/rss/search?q=' + encodeURIComponent(query) + '&hl=en-US&gl=US&ceid=US:en';
                const res = await fetch(CONFIG.RSS2JSON + '?rss_url=' + encodeURIComponent(rssUrl));
                const data = await res.json();

                if (data.status === 'ok' && data.items && data.items.length > 0) {
                    renderNewsCards(container, data.items);
                    return;
                }
                throw new Error('rss2json returned no data');
            } catch (e1) {
                try {
                    // Attempt 2: allorigins proxy + DOMParser
                    const rssUrl = 'https://news.google.com/rss/search?q=' + encodeURIComponent(query) + '&hl=en-US&gl=US&ceid=US:en';
                    const res = await fetch(CONFIG.ALLORIGINS + '?url=' + encodeURIComponent(rssUrl));
                    const data = await res.json();
                    const parser = new DOMParser();
                    const xml = parser.parseFromString(data.contents, 'text/xml');
                    const items = xml.querySelectorAll('item');

                    if (items.length > 0) {
                        const parsed = Array.from(items).slice(0, CONFIG.NEWS_COUNT).map(item => ({
                            title: item.querySelector('title')?.textContent || '',
                            link: item.querySelector('link')?.textContent || '#',
                            pubDate: item.querySelector('pubDate')?.textContent || '',
                            author: item.querySelector('source')?.textContent || 'News'
                        }));
                        renderNewsCards(container, parsed);
                        return;
                    }
                    throw new Error('allorigins returned no items');
                } catch (e2) {
                    // Both failed
                    container.innerHTML =
                        '<div class="error-state">' +
                        '<p>Unable to load news automatically</p>' +
                        '<a href="' + sanitize(fallbackUrl) + '" target="_blank" rel="noopener">Open on Google News &rarr;</a><br>' +
                        '<button onclick="' + retryFnName + '()">Try Again</button>' +
                        '</div>';
                }
            }
        }

        function renderNewsCards(container, items) {
            container.innerHTML = items.slice(0, CONFIG.NEWS_COUNT).map(function(item) {
                return '<a href="' + sanitize(item.link) + '" target="_blank" rel="noopener" class="news-card fade-in">' +
                    '<div class="news-title">' + sanitize(item.title) + '</div>' +
                    '<div class="news-meta">' +
                    '<span>' + sanitize(item.author || 'News') + '</span>' +
                    '<span>' + timeAgo(item.pubDate) + '</span>' +
                    '</div></a>';
            }).join('');
        }

        function fetchPoliticsNews() {
            fetchNews(
                'US politics news today',
                'politics-feed',
                'fetchPoliticsNews',
                'https://news.google.com/topics/CAAqIQgKIhtDQkFTRGdvSUwyMHZNRFZ4ZERBU0FoVnVBUSgBUAE'
            );
        }

        function fetchEconomyNews() {
            fetchNews(
                'US economy financial markets today',
                'economy-feed',
                'fetchEconomyNews',
                'https://news.google.com/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNR2RtZUhRU0FoVnVBUm9DUkVVb0FBUAE'
            );
        }

        // ===== SPORTS =====
        async function fetchTeamData(sport, league, teamId, sectionId) {
            const container = document.getElementById(sectionId + '-data');

            try {
                // Fetch team info
                const teamUrl = CONFIG.ESPN_BASE + '/' + sport + '/' + league + '/teams/' + teamId;
                const res = await fetch(teamUrl);
                const data = await res.json();
                const team = data.team;

                const logoUrl = team.logos && team.logos[0] ? team.logos[0].href : '';
                const record = (team.record && team.record.items && team.record.items[0])
                    ? team.record.items[0].summary : 'N/A';
                const standing = team.standingSummary || '';

                // Next event
                var nextEventHtml = '<p style="color:#64748b;font-size:0.85rem;margin-top:12px;">No upcoming games scheduled</p>';
                if (team.nextEvent && team.nextEvent.length > 0) {
                    var evt = team.nextEvent[0];
                    var name = evt.shortName || evt.name || '';
                    nextEventHtml =
                        '<div class="next-game-card">' +
                        '<div class="label">Next Game</div>' +
                        '<div class="matchup">' + sanitize(name) + '</div>' +
                        '<div class="datetime">' + formatGameDate(evt.date) + ' at ' + formatGameTime(evt.date) + '</div>' +
                        '</div>';
                }

                // Fetch recent results from schedule
                var recentHtml = '';
                try {
                    var schedRes = await fetch(teamUrl + '/schedule');
                    var schedData = await schedRes.json();
                    var events = schedData.events || [];
                    var completed = events.filter(function(e) {
                        return e.competitions && e.competitions[0] &&
                               e.competitions[0].status &&
                               e.competitions[0].status.type &&
                               e.competitions[0].status.type.completed;
                    });
                    var recent = completed.slice(-5);

                    if (recent.length > 0) {
                        recentHtml = '<div class="section-label">Recent Results</div>';
                        recentHtml += recent.map(function(event) {
                            var comp = event.competitions[0];
                            var competitors = comp.competitors || [];
                            var us = competitors.find(function(c) { return String(c.id) === String(teamId); });
                            var them = competitors.find(function(c) { return String(c.id) !== String(teamId); });

                            if (!us || !them) {
                                us = competitors[0];
                                them = competitors[1];
                            }

                            var won = us && us.winner;
                            var ourScore = us ? (typeof us.score === 'object' ? us.score.displayValue : us.score) : '?';
                            var theirScore = them ? (typeof them.score === 'object' ? them.score.displayValue : them.score) : '?';
                            var opponentName = (them && them.team) ? (them.team.abbreviation || them.team.shortDisplayName || '?') : '?';
                            var homeAway = (us && us.homeAway === 'home') ? 'vs' : '@';
                            var dateLabel = event.date ? formatGameDate(event.date) : '';

                            return '<div class="game-item ' + (won ? 'win' : 'loss') + '">' +
                                '<div><span>' + homeAway + ' ' + sanitize(opponentName) + '</span>' +
                                '<div class="game-date-label">' + dateLabel + '</div></div>' +
                                '<span class="result ' + (won ? 'win-text' : 'loss-text') + '">' +
                                (won ? 'W' : 'L') + ' ' + ourScore + '-' + theirScore +
                                '</span></div>';
                        }).join('');
                    }
                } catch (schedErr) {
                    // Schedule unavailable, skip recent results
                }

                container.innerHTML =
                    '<div class="fade-in">' +
                    '<div class="team-header">' +
                    (logoUrl ? '<img src="' + logoUrl + '" alt="' + sanitize(team.displayName || '') + '" class="team-logo">' : '') +
                    '<div>' +
                    '<div class="team-record">' + sanitize(record) + '</div>' +
                    '<div class="team-standing">' + sanitize(standing) + '</div>' +
                    '</div></div>' +
                    nextEventHtml +
                    recentHtml +
                    '</div>';

            } catch (e) {
                container.innerHTML =
                    '<div class="error-state">' +
                    '<p>Unable to load team data</p>' +
                    '<button onclick="fetchTeam_' + sectionId + '()">Try Again</button>' +
                    '</div>';
            }
        }

        // Retry wrappers
        function fetchTeam_warriors() {
            document.getElementById('warriors-data').innerHTML = loadingHTML();
            fetchTeamData('basketball', 'nba', 9, 'warriors');
        }

        function fetchTeam_niners() {
            document.getElementById('niners-data').innerHTML = loadingHTML();
            fetchTeamData('football', 'nfl', 25, 'niners');
        }

        // ===== REFRESH ALL =====
        function refreshAll() {
            updateTimestamp();
            fetchPoliticsNews();
            fetchEconomyNews();
            fetchTeam_warriors();
            fetchTeam_niners();
        }

        // ===== INIT =====
        document.addEventListener('DOMContentLoaded', function() {
            updateTimestamp();
            fetchPoliticsNews();
            fetchEconomyNews();
            fetchTeam_warriors();
            fetchTeam_niners();

            // Auto-refresh news & sports every 5 minutes
            setInterval(refreshAll, CONFIG.REFRESH_INTERVAL);
        });
    </script>

</body>
</html>
